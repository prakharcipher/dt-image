{"ast":null,"code":"import _toConsumableArray from\"/Users/sameekshadubey/Desktop/dt-image/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"/Users/sameekshadubey/Desktop/dt-image/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import Webcam from\"react-webcam\";import{useRef,useState,useCallback}from\"react\";import'./webcam.scss';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var CustomWebcam=function CustomWebcam(props){var webcamRef=useRef(null);var _useState=useState(null),_useState2=_slicedToArray(_useState,2),imgSrc=_useState2[0],setImgSrc=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),images=_useState4[0],setImages=_useState4[1];var capture=useCallback(function(){var imageSrc=webcamRef.current.getScreenshot();// const imageBlob = dataURItoBlob(imageSrc);\n// setImages(prevImages => [...prevImages, imageBlob]);\nsetImages(function(prevImages){return[].concat(_toConsumableArray(prevImages),[imageSrc]);});setImgSrc(imageSrc);},[webcamRef]);var retake=function retake(){setImgSrc(null);};var videoConstraints={facingMode:{exact:\"environment\"}};return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[imgSrc?/*#__PURE__*/_jsx(\"img\",{src:imgSrc,height:\"320\",width:\"auto\",alt:\"webcam\"}):/*#__PURE__*/_jsx(Webcam,{videoConstraints:videoConstraints,height:350,width:350,ref:webcamRef}),/*#__PURE__*/_jsx(\"div\",{className:\"btn-container\",children:images.length<10&&/*#__PURE__*/_jsx(\"div\",{onClick:imgSrc?retake:capture,className:\"click\",children:\"\\uD83D\\uDCF7\"})}),/*#__PURE__*/_jsx(\"div\",{style:{marginTop:'16px'},children:\"\".concat(10-images.length,\" clicks left\")}),/*#__PURE__*/_jsx(\"div\",{className:\"done-btn\",children:/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return props.handlePhoto(images);},children:\"selesai\"})})]});};export default CustomWebcam;","map":{"version":3,"names":["Webcam","useRef","useState","useCallback","jsx","_jsx","jsxs","_jsxs","CustomWebcam","props","webcamRef","_useState","_useState2","_slicedToArray","imgSrc","setImgSrc","_useState3","_useState4","images","setImages","capture","imageSrc","current","getScreenshot","prevImages","concat","_toConsumableArray","retake","videoConstraints","facingMode","exact","className","children","src","height","width","alt","ref","length","onClick","style","marginTop","handlePhoto"],"sources":["/Users/sameekshadubey/Desktop/dt-image/src/CustomWebcam.js"],"sourcesContent":["import Webcam from \"react-webcam\";\nimport { useRef, useState, useCallback } from \"react\";\nimport './webcam.scss';\n\nconst CustomWebcam = (props) => {\nconst webcamRef = useRef(null);\nconst [imgSrc, setImgSrc] = useState(null);\nconst [images, setImages] = useState([]);\n\nconst capture = useCallback(() => {\n    const imageSrc = webcamRef.current.getScreenshot();   \n    // const imageBlob = dataURItoBlob(imageSrc);\n    // setImages(prevImages => [...prevImages, imageBlob]);\n    setImages(prevImages => [...prevImages, imageSrc]);\n\n    setImgSrc(imageSrc);\n  }, [webcamRef]);\n\nconst retake = () => {\n    setImgSrc(null);\n};\n\nconst videoConstraints = {\n    facingMode: { exact: \"environment\" }\n};\n\n\n\n  return (\n    <div className=\"container\">\n      {imgSrc ? (\n            <img src={imgSrc} height=\"320\" width=\"auto\" alt=\"webcam\" />\n      ) : (\n        <Webcam videoConstraints={videoConstraints} height={350} width={350} ref={webcamRef}  />\n      )}\n      <div className=\"btn-container\">\n        {images.length < 10 && <div onClick={imgSrc ? retake : capture} className=\"click\">&#128247;</div>}\n      </div>\n      <div style={{marginTop: '16px'}}>{`${10-images.length} clicks left`}</div>\n      <div className=\"done-btn\">\n        <button onClick={() => props.handlePhoto(images)}>selesai</button>\n      </div>\n    </div>\n  );\n};\n\nexport default CustomWebcam;"],"mappings":"gQAAA,MAAO,CAAAA,MAAM,KAAM,cAAc,CACjC,OAASC,MAAM,CAAEC,QAAQ,CAAEC,WAAW,KAAQ,OAAO,CACrD,MAAO,eAAe,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAEvB,GAAM,CAAAC,YAAY,CAAG,QAAf,CAAAA,YAAYA,CAAIC,KAAK,CAAK,CAChC,GAAM,CAAAC,SAAS,CAAGT,MAAM,CAAC,IAAI,CAAC,CAC9B,IAAAU,SAAA,CAA4BT,QAAQ,CAAC,IAAI,CAAC,CAAAU,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAAnCG,MAAM,CAAAF,UAAA,IAAEG,SAAS,CAAAH,UAAA,IACxB,IAAAI,UAAA,CAA4Bd,QAAQ,CAAC,EAAE,CAAC,CAAAe,UAAA,CAAAJ,cAAA,CAAAG,UAAA,IAAjCE,MAAM,CAAAD,UAAA,IAAEE,SAAS,CAAAF,UAAA,IAExB,GAAM,CAAAG,OAAO,CAAGjB,WAAW,CAAC,UAAM,CAC9B,GAAM,CAAAkB,QAAQ,CAAGX,SAAS,CAACY,OAAO,CAACC,aAAa,CAAC,CAAC,CAClD;AACA;AACAJ,SAAS,CAAC,SAAAK,UAAU,WAAAC,MAAA,CAAAC,kBAAA,CAAQF,UAAU,GAAEH,QAAQ,IAAC,CAAC,CAElDN,SAAS,CAACM,QAAQ,CAAC,CACrB,CAAC,CAAE,CAACX,SAAS,CAAC,CAAC,CAEjB,GAAM,CAAAiB,MAAM,CAAG,QAAT,CAAAA,MAAMA,CAAA,CAAS,CACjBZ,SAAS,CAAC,IAAI,CAAC,CACnB,CAAC,CAED,GAAM,CAAAa,gBAAgB,CAAG,CACrBC,UAAU,CAAE,CAAEC,KAAK,CAAE,aAAc,CACvC,CAAC,CAIC,mBACEvB,KAAA,QAAKwB,SAAS,CAAC,WAAW,CAAAC,QAAA,EACvBlB,MAAM,cACDT,IAAA,QAAK4B,GAAG,CAAEnB,MAAO,CAACoB,MAAM,CAAC,KAAK,CAACC,KAAK,CAAC,MAAM,CAACC,GAAG,CAAC,QAAQ,CAAE,CAAC,cAE/D/B,IAAA,CAACL,MAAM,EAAC4B,gBAAgB,CAAEA,gBAAiB,CAACM,MAAM,CAAE,GAAI,CAACC,KAAK,CAAE,GAAI,CAACE,GAAG,CAAE3B,SAAU,CAAG,CACxF,cACDL,IAAA,QAAK0B,SAAS,CAAC,eAAe,CAAAC,QAAA,CAC3Bd,MAAM,CAACoB,MAAM,CAAG,EAAE,eAAIjC,IAAA,QAAKkC,OAAO,CAAEzB,MAAM,CAAGa,MAAM,CAAGP,OAAQ,CAACW,SAAS,CAAC,OAAO,CAAAC,QAAA,CAAC,cAAS,CAAK,CAAC,CAC9F,CAAC,cACN3B,IAAA,QAAKmC,KAAK,CAAE,CAACC,SAAS,CAAE,MAAM,CAAE,CAAAT,QAAA,IAAAP,MAAA,CAAK,EAAE,CAACP,MAAM,CAACoB,MAAM,iBAAoB,CAAC,cAC1EjC,IAAA,QAAK0B,SAAS,CAAC,UAAU,CAAAC,QAAA,cACvB3B,IAAA,WAAQkC,OAAO,CAAE,SAAAA,QAAA,QAAM,CAAA9B,KAAK,CAACiC,WAAW,CAACxB,MAAM,CAAC,EAAC,CAAAc,QAAA,CAAC,SAAO,CAAQ,CAAC,CAC/D,CAAC,EACH,CAAC,CAEV,CAAC,CAED,cAAe,CAAAxB,YAAY"},"metadata":{},"sourceType":"module","externalDependencies":[]}